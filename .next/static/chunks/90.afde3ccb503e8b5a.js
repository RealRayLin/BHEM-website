(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{1090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(5155),i=r(2115),o=r(5028),a=r(6766);r(8799),r(5933);let s=(0,o.default)(()=>Promise.all([r.e(309),r.e(84)]).then(r.bind(r,5268)).then(e=>({default:e.Document})),{loadableGenerated:{webpack:()=>[5268]},ssr:!1}),l=(0,o.default)(()=>Promise.all([r.e(309),r.e(84)]).then(r.bind(r,5268)).then(e=>({default:e.Page})),{loadableGenerated:{webpack:()=>[5268]},ssr:!1}),c=(0,o.default)(()=>r.e(638).then(r.t.bind(r,6638,23)),{loadableGenerated:{webpack:()=>[6638]},ssr:!1}),d=e=>{let{isVisible:t}=e;return t?(0,n.jsxs)("div",{className:"orientation-hint",children:[(0,n.jsx)("div",{className:"rotate-icon",children:"\uD83D\uDCF1"}),(0,n.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Please rotate your device"}),(0,n.jsx)("p",{children:"This experience is optimized for landscape viewing"})]}):null},u=e=>{let{pageNumber:t,numPages:r}=e,[o,a]=(0,i.useState)(1920);return(0,i.useEffect)(()=>{let e,t,r=()=>{try{let e=window.innerWidth,t=window.innerHeight;if(e<768){let r=Math.min(.95*e,1.6*t);a(r)}else{let r=16/9;e/t>r?a(t*r*.95):a(.95*e)}}catch(e){console.warn("Error updating page width:",e),a(800)}},n=()=>{clearTimeout(e),e=setTimeout(r,150)},i=()=>{clearTimeout(t),t=setTimeout(r,300)};return r(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",i,{passive:!0}),()=>{clearTimeout(e),clearTimeout(t),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",i)}},[]),(0,n.jsxs)("div",{className:"section-content",children:[(0,n.jsx)(l,{pageNumber:t,width:o,renderTextLayer:!0,renderAnnotationLayer:!0,devicePixelRatio:window.devicePixelRatio||1}),(0,n.jsxs)("div",{style:{position:"absolute",bottom:"20px",right:"20px",color:"var(--bhem-cream)",fontSize:"0.9rem",opacity:.7},children:[t," / ",r]})]})},h=()=>{let[e,t]=(0,i.useState)(0),[o,l]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),[p,w]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!0),[f]=(0,i.useState)("left");(0,i.useEffect)(()=>{let e,t;(async()=>{try{Promise.withResolvers||(Promise.withResolvers=function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}),URL.parse||(URL.parse=function(e,t){try{return t?new URL(e,t):new URL(e)}catch(e){return null}});let{pdfjs:e}=await Promise.all([r.e(309),r.e(84)]).then(r.bind(r,5268));e.GlobalWorkerOptions.workerSrc="/pdf/pdf.worker.min.js",m(!0)}catch(e){console.error("Failed to setup PDF worker:",e),m(!0)}})();let n=()=>{try{let t=window.innerWidth<768,r=window.innerHeight>window.innerWidth,n=t&&r;t?(clearTimeout(e),e=setTimeout(()=>{l(n)},200)):l(n)}catch(e){console.warn("Error checking orientation:",e),l(!1)}},i=()=>{clearTimeout(t),t=setTimeout(n,100)},o=()=>{clearTimeout(e),e=setTimeout(n,300)};return n(),window.addEventListener("resize",i,{passive:!0}),window.addEventListener("orientationchange",o,{passive:!0}),()=>{if(clearTimeout(e),clearTimeout(t),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",o),window.innerWidth<768)try{window.gc&&window.gc()}catch(e){}}},[]),(0,i.useEffect)(()=>{let e=()=>{document.querySelectorAll(".fp-watermark").forEach(e=>e.remove())},t=setInterval(e,1e3);return e(),()=>clearInterval(t)},[p]);let x=(0,i.useMemo)(()=>({cMapUrl:"https://unpkg.com/pdfjs-dist@5.3.31/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@5.3.31/standard_fonts/",renderTextLayer:!0,textLayerMode:1,enableXfa:!0,fontExtraProperties:!0,disableFontFace:!1,useSystemFonts:!1}),[]),j=()=>(0,n.jsx)("div",{className:"section-content",children:(0,n.jsx)("div",{children:"\xa0"})}),y=(0,i.useMemo)(()=>({licenseKey:"5QN98-70J38-3YDKK-0K1JK-NROLP",sectionsColor:Array(e).fill("var(--bhem-deep-cocoa)"),navigation:!0,navigationPosition:"left",showActiveTooltip:!1,scrollingSpeed:1200,controlArrows:!1,slidesNavigation:!1,keyboardScrolling:!0,animateAnchor:!1,recordHistory:!1,touchSensitivity:50,responsiveWidth:0,responsiveHeight:0,autoScrolling:!0,fitToSection:!0,credits:{enabled:!1},normalScrollElements:"",scrollOverflow:!1,afterRender:function(){requestAnimationFrame(()=>{try{document.querySelectorAll(".fp-watermark").forEach(e=>e.remove())}catch(e){console.warn("Error removing watermarks:",e)}})},afterLoad:function(t,r){window.innerWidth<768||console.log("FullPage afterLoad:",r.index+1,"of",e)},onLeave:function(e,t){try{if(window.innerWidth<768&&Math.abs(t.index-e.index)>1)return!1;return!0}catch(e){return console.warn("Error in onLeave:",e),!0}}}),[e]);return h?(0,n.jsxs)("div",{className:"fullpage-wrapper",children:[(0,n.jsx)(d,{isVisible:o}),g&&(0,n.jsx)("div",{className:"loading-overlay",children:(0,n.jsx)("div",{className:"loading-logo-container",children:(0,n.jsx)(a.default,{src:"/logo.png",alt:"BHEM - Black Heritage Experience Manitoba Logo",className:"loading-logo",width:60,height:60})})}),(0,n.jsx)("div",{className:"fullpage-container",style:{opacity:+!g},children:(0,n.jsx)(s,{file:"/BHEM Brand Deck-v2.1-Website.pdf",onLoadSuccess:e=>{let{numPages:r}=e;console.log("PDF loaded successfully with",r,"pages"),t(r),setTimeout(()=>{w(!0),setTimeout(()=>{v(!1)},800)},500)},onLoadError:e=>{console.error("PDF loading error:",e),v(!1)},options:x,loading:(0,n.jsx)(j,{}),error:(0,n.jsx)("div",{className:"section-content",children:(0,n.jsxs)("div",{style:{color:"var(--bhem-tomato)",textAlign:"center"},children:[(0,n.jsx)("h2",{children:"PDF Loading Error"}),(0,n.jsx)("p",{children:"Unable to load the BHEM Brand Deck PDF."}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",opacity:.8,marginTop:"1rem"},children:"Please check that the PDF file is properly placed in the public folder."})]})}),children:p&&e>0?(0,n.jsx)(c,{...y,render:()=>(0,n.jsx)("div",{id:"fullpage",children:Array.from({length:e},(t,r)=>(0,n.jsx)("div",{className:"section",children:(0,n.jsx)(u,{pageNumber:r+1,numPages:e})},r+1))})}):e>0?(0,n.jsx)(j,{}):null})})]}):(0,n.jsx)("div",{className:"fullpage-wrapper",children:(0,n.jsx)("div",{className:"fullpage-container",children:(0,n.jsx)("div",{className:"section-content",children:(0,n.jsx)("div",{className:"loading-logo-container",children:(0,n.jsx)(a.default,{src:"/logo.png",alt:"BHEM - Black Heritage Experience Manitoba Logo",className:"loading-logo",width:30,height:30})})})})})}},5933:()=>{},8799:()=>{}}]);