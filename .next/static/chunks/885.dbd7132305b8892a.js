"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{5885:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(5155),a=n(9137),s=n.n(a),i=n(2115),o=n(7650),l=n(5028),c=n(6766);let u=e=>{let{progress:t=0,size:n=128,logoSrc:a="/logo.png",logoSize:o=36,isFullscreen:l=!1,isVisible:u=!0}=e,d=(0,i.useRef)(null),p=(0,i.useMemo)(()=>282.743*(1-Math.max(0,Math.min(1,t))),[t,282.743]);if((0,i.useEffect)(()=>{let e=d.current;return e&&(e.style.willChange="transform, opacity",e.style.backfaceVisibility="hidden",e.style.perspective="1000px",e.style.transform="translateZ(0)"),()=>{e&&(e.style.willChange="auto")}},[]),(0,i.useEffect)(()=>{if(l){let e=()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),d.current&&(d.current.style.transform="translateZ(0)")};e();let t=!1,n=()=>{t||(requestAnimationFrame(()=>{e(),t=!1}),t=!0)};return window.addEventListener("resize",n),window.addEventListener("orientationchange",e),window.addEventListener("scroll",n,{passive:!0}),window.visualViewport&&window.visualViewport.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",e),window.removeEventListener("scroll",n),window.visualViewport&&window.visualViewport.removeEventListener("resize",n)}}},[l]),!u)return null;let g=(0,r.jsxs)("div",{ref:d,style:{position:"relative",width:"".concat(n,"px"),height:"".concat(n,"px"),transformStyle:"preserve-3d",contain:"layout style paint",isolation:"isolate"},className:"jsx-b713455be19978bd",children:[(0,r.jsx)(s(),{id:"b713455be19978bd",children:"@media screen and (max-width:768px){.fullscreen-loading.jsx-b713455be19978bd{height:100dvh!important;min-height:100dvh!important;place-items:center;place-content:center;overflow:hidden;align-items:center!important;justify-content:center!important}}"}),(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 ".concat(n," ").concat(n),style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg) translateZ(0)",display:"block",shapeRendering:"geometricPrecision"},className:"jsx-b713455be19978bd",children:[(0,r.jsx)("circle",{cx:n/2,cy:n/2,r:45,fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:8,className:"jsx-b713455be19978bd"}),(0,r.jsx)("circle",{cx:n/2,cy:n/2,r:45,fill:"none",stroke:"#E6AC40",strokeWidth:8,strokeLinecap:"round",strokeDasharray:282.743,strokeDashoffset:p,style:{transition:"stroke-dashoffset 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateZ(0)"},className:"jsx-b713455be19978bd"})]}),(0,r.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) translateZ(0)",width:"".concat(72,"px"),height:"".concat(72,"px"),background:"white",borderRadius:"50%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 8px rgba(230, 172, 64, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",contain:"layout style",isolation:"isolate"},className:"jsx-b713455be19978bd",children:(0,r.jsx)(c.default,{src:a,alt:"Logo",width:o,height:o,priority:!0,style:{objectFit:"contain",maxWidth:"60%",maxHeight:"60%",transform:"translateZ(0)"}})})]});return l?(0,r.jsx)("div",{className:"fullscreen-loading",style:{position:"fixed",top:"env(safe-area-inset-top, 0)",left:"env(safe-area-inset-left, 0)",right:"env(safe-area-inset-right, 0)",bottom:"env(safe-area-inset-bottom, 0)",width:"calc(100vw - env(safe-area-inset-left, 0) - env(safe-area-inset-right, 0))",height:"100dvh",minHeight:"calc(var(--vh, 1vh) * 100)",background:"var(--bhem-deep-cocoa, #44200F)",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",flexDirection:"column",zIndex:9999,transform:"translateZ(0)",WebkitTransform:"translateZ(0)"},children:g}):g};n(8799),n(5933);let d=(0,l.default)(()=>Promise.all([n.e(309),n.e(84)]).then(n.bind(n,5268)).then(e=>({default:e.Document})),{loadableGenerated:{webpack:()=>[5268]},ssr:!1}),p=(0,l.default)(()=>Promise.all([n.e(309),n.e(84)]).then(n.bind(n,5268)).then(e=>({default:e.Page})),{loadableGenerated:{webpack:()=>[5268]},ssr:!1}),g=e=>{let{pdfUrl:t="/BHEM Brand Deck-v2-Website.pdf"}=e,[a,l]=(0,i.useState)(0),[g,h]=(0,i.useState)(1),[m,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!0),[v,E]=(0,i.useState)(new Set),[k,T]=(0,i.useState)(0),[S,j]=(0,i.useState)(0),[L,C]=(0,i.useState)(!1),[N,P]=(0,i.useState)({direction:null,isExiting:!1,isEntering:!1}),[M,I]=(0,i.useState)(!1),[A,D]=(0,i.useState)(!0),[R,z]=(0,i.useState)(!1),F=(0,i.useRef)(null),[X,B]=(0,i.useState)(!1),[O,W]=(0,i.useState)("DONATE"),[_,H]=(0,i.useState)(!1),[Y,q]=(0,i.useState)("single"),Z=(0,i.useRef)(null),V=(0,i.useRef)(null),U=(0,i.useRef)(null),G=(0,i.useRef)(0),$=(0,i.useRef)(0),J=(0,i.useRef)(0),K=(0,i.useRef)(0),Q=(0,i.useRef)(0),ee=(0,i.useMemo)(()=>({cMapUrl:"https://unpkg.com/pdfjs-dist@5.4.54/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@5.4.54/standard_fonts/",verbosity:0}),[]);(0,i.useEffect)(()=>((async()=>{try{let{pdfjs:e}=await Promise.all([n.e(309),n.e(84)]).then(n.bind(n,5268));e.GlobalWorkerOptions.workerSrc="/pdf/pdf.worker.min.js",f(!0)}catch(e){console.error("Failed to setup PDF worker:",e),x(!0),w(!1)}})(),()=>{f(!1)}),[]),(0,i.useEffect)(()=>{let e=()=>{let e=window.innerWidth,t=window.innerHeight,n=.77*t;n<=e?(T(n),j(t)):(T(e),j(e/.77))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let et=(0,i.useCallback)(()=>{if(!U.current)return;let e=U.current.querySelector(".react-pdf__Page"),t=null==e?void 0:e.querySelector("canvas"),n=null==e?void 0:e.querySelector(".react-pdf__Page__textContent");if(!t||!n)return;let r=t.getBoundingClientRect();if(!t.closest(".react-pdf__Page"))return;let a=r.width/k,s=r.height/S;n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width="".concat(r.width,"px"),n.style.height="".concat(r.height,"px"),n.style.transformOrigin="0 0";let i="scale(".concat(a,", ").concat(s,")");n.style.transform=i},[k,S]);(0,i.useEffect)(()=>{if(!y){let e=setTimeout(()=>{et()},300);return()=>clearTimeout(e)}},[y,et]);let en=(0,i.useCallback)(e=>{e===g&&setTimeout(()=>et(),100),E(t=>{let n=new Set(t);return n.has(e)?t:(n.add(e),n.size===a&&a>0&&setTimeout(()=>{w(e=>!e&&e)},800),n)})},[a,g,et]),er=(0,i.useCallback)((e,t)=>{console.error("Page ".concat(e," load error:"),t),t.message.includes("Invalid page request")&&E(t=>{let n=new Set(t);return n.add(e),n})},[]),ea=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;setTimeout(()=>{F.current&&clearInterval(F.current),F.current=setInterval(()=>{z(!0),setTimeout(()=>{D(e=>!e),z(!1)},300)},3e3)},e)},[]),es=(0,i.useCallback)((e,t)=>{let n=Date.now();if(!M||L||n-Q.current<300||a<=0||g<1||g>a)return;let r="next"===e?g+1:g-1;r<1||r>a||(F.current&&clearInterval(F.current),D(!0),C(!0),Q.current=n,P({direction:t,isExiting:!0,isEntering:!1}),setTimeout(()=>{h(r),P({direction:t,isExiting:!1,isEntering:!0}),setTimeout(()=>{P({direction:t,isExiting:!1,isEntering:!1}),setTimeout(()=>{P({direction:null,isExiting:!1,isEntering:!1}),C(!1),ea(1500)},300)},100)},200))},[g,a,L,M,ea]),ei=(0,i.useCallback)(()=>{F.current&&clearInterval(F.current),D(!0),g>=a?(h(1),ea(1500)):es("next","right")},[g,a,es,ea]),eo=(0,i.useCallback)(async()=>{var e,t;let n='https://www.BHEM.ca/\nBlack Heritage Experience Manitoba\n\nWAYS TO GIVE:\nConvenient pathways to secure your Founding 100 status with your $100 investment\n\nA - E-TRANSFER\nSend $100 to info@ACOMI.ca. \nInclude your name and "Black History Museum" in message\n\nB- ONLINE PORTAL\nhttps://www.canadahelps.org/en/dn/3162\nSelect dropdown: #7: Black History Museum\n\nC- MAIL DONATION\nAfrican Communities of Manitoba Inc., \n200-301 Nassau Street N., Winnipeg, MB R3L 2J5\nhttps://maps.app.goo.gl/r477pRFGsmaxBbyMA\n\nD - PERSONAL CONTACT\nCall (204) 795-7465 or info@ACOMI.ca for arrangements. Cash or cheque welcomed.';if(null==(t=navigator)||null==(e=t.clipboard)?void 0:e.writeText)try{await navigator.clipboard.writeText(n),Z.current&&clearTimeout(Z.current),H(!0),setTimeout(()=>{W("INFO COPIED"),H(!1),Z.current=setTimeout(()=>{H(!0),setTimeout(()=>{W("DONATE"),H(!1)},300)},3e3)},300)}catch(e){console.error("Failed to copy to clipboard:",e),alert("Please copy this donation information:\n\n".concat(n))}else alert("Please copy this donation information:\n\n".concat(n))},[]),el=(0,i.useCallback)(()=>{if(!N.direction)return"";let e="transition-".concat(N.direction),t="";return N.isExiting?t="exiting":N.isEntering&&(t="entering-initial"),"".concat("page-transition"," ").concat(e," ").concat(t)},[N]),ec=(0,i.useCallback)(()=>{let e="transform 0.4s ease-out, opacity 0.4s ease-out";if(!N.direction)return{transform:"translate(-50%, -50%) translateX(0) translateY(0)",opacity:1,transition:e};let{direction:t,isExiting:n,isEntering:r}=N;if(n){let n="";return"left"===t?n="translate(-50%, -50%) translateX(150%)":"right"===t?n="translate(-50%, -50%) translateX(-150%)":"up"===t?n="translate(-50%, -50%) translateY(150%)":"down"===t&&(n="translate(-50%, -50%) translateY(-150%)"),{transform:n,opacity:0,transition:e}}if(r){let n="";return"left"===t?n="translate(-50%, -50%) translateX(-150%)":"right"===t?n="translate(-50%, -50%) translateX(150%)":"up"===t?n="translate(-50%, -50%) translateY(-150%)":"down"===t&&(n="translate(-50%, -50%) translateY(150%)"),{transform:n,opacity:0,transition:e}}return{transform:"translate(-50%, -50%) translateX(0) translateY(0)",opacity:1,transition:e}},[N]);return((0,i.useEffect)(()=>()=>{F.current&&clearInterval(F.current),Z.current&&clearTimeout(Z.current)},[]),(0,i.useEffect)(()=>{let e=()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},t=()=>{document.body.style.zoom&&(document.body.style.zoom="1"),document.body.style.transform&&(document.body.style.transform="none");let e=document.querySelector('meta[name="viewport"]');e&&e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"),setTimeout(()=>{window.location.reload()},200)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",t)}},[]),(0,i.useEffect)(()=>(F.current=setInterval(()=>{z(!0),setTimeout(()=>{D(e=>!e),z(!1)},300)},3e3),()=>{F.current&&clearInterval(F.current)}),[]),(0,i.useEffect)(()=>{g>=15&&"single"===Y&&(q("transitioning"),setTimeout(()=>{B(!0),setTimeout(()=>{q("dual")},400)},400))},[g,Y]),(0,i.useEffect)(()=>{let e=e=>{switch(e.key){case"ArrowRight":e.preventDefault(),es("next","right");break;case"ArrowDown":case" ":e.preventDefault(),es("next","down");break;case"ArrowLeft":e.preventDefault(),es("prev","left");break;case"ArrowUp":e.preventDefault(),es("prev","up")}},t=e=>{e.preventDefault(),e.deltaY>0?es("prev","up"):e.deltaY<0&&es("next","down")};return window.addEventListener("keydown",e),window.addEventListener("wheel",t,{passive:!1}),()=>{window.removeEventListener("keydown",e),window.removeEventListener("wheel",t)}},[es]),b)?(0,r.jsx)("div",{className:"fullscreen-error",children:(0,r.jsxs)("div",{className:"error-content",children:[(0,r.jsx)("div",{className:"loading-logo",children:(0,r.jsx)(c.default,{src:"/logo.png",alt:"BHEM Logo",width:40,height:40,priority:!0,style:{objectFit:"contain"}})}),(0,r.jsx)("h2",{children:"Unable to Load PDF"}),(0,r.jsx)("p",{children:"Please refresh the page or check your connection."})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{isVisible:y,isFullscreen:!0,progress:a>0?v.size/a:0,logoSrc:"/logo.png",size:128,logoSize:36}),(0,r.jsxs)("div",{className:"fullscreen-pdf-viewer",ref:V,onTouchStartCapture:e=>{if(1!==e.touches.length)return;let t=e.touches[0];G.current=t.clientX,$.current=t.clientY},onTouchMoveCapture:e=>{if(1!==e.touches.length)return;let t=e.touches[0];J.current=t.clientX,K.current=t.clientY},onTouchEndCapture:e=>{if(1!==e.changedTouches.length)return;let t=J.current-G.current,n=K.current-$.current;Math.sqrt(t*t+n*n)>=250&&Math.abs(t)>Math.abs(n)&&(t>0?es("prev","left"):es("next","right")),G.current=0,$.current=0,J.current=0,K.current=0},style:{visibility:y?"hidden":"visible",opacity:+!y,transition:"opacity 0.3s ease",touchAction:"auto",WebkitTouchCallout:"none"},children:[(0,r.jsxs)(d,{file:t,onLoadSuccess:e=>{let{numPages:t}=e;l(t),x(!1),h(e=>e<1||e>t?1:e),E(e=>{let n=new Set;return e.forEach(e=>{e>=1&&e<=t&&n.add(e)}),n}),P({direction:null,isExiting:!1,isEntering:!1}),C(!1),setTimeout(()=>{I(!0)},100)},onLoadError:e=>{console.error("âŒ PDF loading error:",e),console.error("Error details:",{message:e.message,name:e.name,stack:e.stack}),x(!0),w(!1)},onLoadStart:()=>console.log("\uD83D\uDE80 PDF loading started..."),loading:"",options:ee,children:[k>0&&a>0&&g>=1&&g<=a&&(0,r.jsx)("div",{className:"current-page-container ".concat(el()),ref:U,style:{...ec()},"data-current-page":g,"data-animation-state":N.isExiting?"exiting":N.isEntering?"entering":"normal",children:(0,r.jsx)(p,{pageNumber:g,width:k,height:S,renderTextLayer:!0,renderAnnotationLayer:!0,devicePixelRatio:8,onLoadSuccess:()=>en(g),onLoadError:e=>er(g,e),onRenderSuccess:()=>{setTimeout(()=>et(),50)}})}),a>1&&m&&(0,r.jsx)("div",{className:"preload-container",style:{position:"absolute",left:"-9999px",top:"-9999px",opacity:0,visibility:"hidden",pointerEvents:"none",overflow:"hidden",width:"1px",height:"1px",zIndex:-1},children:(()=>{let e=[];a>=1&&!v.has(1)&&1!==g&&e.push(1),a>=2&&!v.has(2)&&2!==g&&e.push(2);let t=g-1,n=g+1;!(t>=1)||v.has(t)||e.includes(t)||e.push(t),!(n<=a)||v.has(n)||e.includes(n)||e.push(n);for(let t=1;t<=a&&e.length<10;t++)e.includes(t)||v.has(t)||t===g||e.push(t);return e.map(e=>!a||a<=0||e<1||e>a?null:(0,r.jsx)("div",{style:{display:"none",visibility:"hidden",position:"absolute",pointerEvents:"none"},children:(0,r.jsx)(p,{pageNumber:e,width:Math.max(.1*k,10),renderTextLayer:!1,renderAnnotationLayer:!1,onLoadSuccess:()=>en(e),onLoadError:t=>er(e,t)},"preload-".concat(e,"-").concat(a))},"preload-wrapper-".concat(e))).filter(Boolean)})()})]}),!y&&a>0&&(0,o.createPortal)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{id:"63ae24a18ae46521",children:"@keyframes breathingButton{0%{box-shadow:0 4px 20px rgba(0,0,0,.15),0 0 20px rgba(255,255,255,.4);transform:scale(1)}50%{box-shadow:0 6px 30px rgba(0,0,0,.2),0 0 30px rgba(255,255,255,.8);transform:scale(1.05)}100%{box-shadow:0 4px 20px rgba(0,0,0,.15),0 0 20px rgba(255,255,255,.4);transform:scale(1)}}@keyframes breathingDonate{0%{box-shadow:0 4px 20px rgba(0,0,0,.15),0 0 20px rgba(230,172,64,.4);transform:scale(1)}50%{box-shadow:0 6px 30px rgba(0,0,0,.2),0 0 30px rgba(230,172,64,.8);transform:scale(1.05)}100%{box-shadow:0 4px 20px rgba(0,0,0,.15),0 0 20px rgba(230,172,64,.4);transform:scale(1)}}"}),(0,r.jsx)("button",{onClick:ei,style:{position:"fixed",bottom:"30px",left:"0",right:"0",margin:"0 auto",opacity:1,pointerEvents:"auto",zIndex:9999,background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"none",borderRadius:"25px",padding:"12px 24px",fontSize:"16px",fontWeight:"800",color:"#333",cursor:"pointer",width:"100px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",animation:"breathingButton 3s ease-in-out infinite",userSelect:"none",WebkitUserSelect:"none"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 1)",e.currentTarget.style.animationPlayState="paused",e.currentTarget.style.transform="translateX(-50%) scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.9)",e.currentTarget.style.animationPlayState="running",e.currentTarget.style.transform="translateX(-50%) scale(1)"},onTouchStart:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 1)",e.currentTarget.style.animationPlayState="paused",e.currentTarget.style.transform="translateX(-50%) scale(1.05)"},onTouchEnd:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.9)",e.currentTarget.style.animationPlayState="running",e.currentTarget.style.transform="translateX(-50%) scale(1)"},className:"jsx-63ae24a18ae46521 bottom-indicator",children:(0,r.jsx)("span",{style:{opacity:+!R,transition:"opacity 0.3s ease"},className:"jsx-63ae24a18ae46521",children:A?g:"NEXT"})}),(0,r.jsx)("button",{onClick:eo,style:{position:"fixed",bottom:X?"90px":"30px",left:"0",right:"0",margin:"0 auto",opacity:+!!X,pointerEvents:X?"auto":"none",zIndex:9998,transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s ease-in-out",background:"rgba(230, 172, 64, 0.95)",backdropFilter:"blur(10px)",border:"none",borderRadius:"25px",padding:"12px 20px",fontSize:"14px",fontWeight:"800",color:"#333",cursor:"pointer",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",animation:"breathingDonate 3s ease-in-out infinite",userSelect:"none",WebkitUserSelect:"none",width:"fit-content",minWidth:"auto"},onMouseEnter:e=>{X&&(e.currentTarget.style.background="rgba(230, 172, 64, 1)",e.currentTarget.style.animationPlayState="paused",e.currentTarget.style.transform="translateX(-50%) scale(1.05)")},onMouseLeave:e=>{X&&(e.currentTarget.style.background="rgba(230, 172, 64, 0.95)",e.currentTarget.style.animationPlayState="running",e.currentTarget.style.transform="translateX(-50%) scale(1)")},onTouchStart:e=>{X&&(e.currentTarget.style.background="rgba(230, 172, 64, 1)",e.currentTarget.style.animationPlayState="paused",e.currentTarget.style.transform="translateX(-50%) scale(1.05)")},onTouchEnd:e=>{X&&(e.currentTarget.style.background="rgba(230, 172, 64, 0.95)",e.currentTarget.style.animationPlayState="running",e.currentTarget.style.transform="translateX(-50%) scale(1)")},className:"jsx-63ae24a18ae46521 donate-capsule",children:(0,r.jsx)("span",{style:{opacity:+!_,transition:"opacity 0.3s ease",whiteSpace:"nowrap"},className:"jsx-63ae24a18ae46521",children:O})})]}),document.body)]})]})}}}]);